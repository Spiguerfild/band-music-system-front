<ion-header [translucent]="true">
  <ion-toolbar>
    <div class="menu-header-bg"></div>
    <ion-title>Escalas</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true" class="ion-text-center page-content">

  <ion-fab class="{{showFilters ? 'active' : ''}}" slot="fixed" slot="fixed" vertical="top" horizontal="end"
    [edge]="true" (click)="showFilters = !showFilters">
    <ion-fab-button style="--border-color: black;--border-width:2px;--border-style: solid">
      <ion-icon class="icon-animation" [name]="showFilters ? 'close' : 'chevron-down-circle'"></ion-icon>
    </ion-fab-button>
  </ion-fab>

  <div *ngIf="showFilters" class="filter-container filter-animation"
    style="padding: 10px 0 5px 0; box-shadow: 0px 2px 7px #ccc; background-color: var( --ion-background-color); position: fixed; z-index: 9999;">

    <div style="display: flex; align-items: center; justify-content: space-around;">
      <ion-item style="width: 40%; --ion-safe-area-left: none; --padding-start: none">
        <ion-label position="stacked" style="font-size: 20px;">In√≠cio</ion-label>
        <ion-input [(ngModel)]="dataInicio" type="text" style="font-size: 12px;" placeholder="DD/MM/AAAA"></ion-input>
      </ion-item>

      <ion-item style="width: 40%; --ion-safe-area-left:none; --padding-start:none">
        <ion-label position="stacked" style="font-size: 20px;">Fim</ion-label>
        <ion-input [(ngModel)]="dataFim" type="text" style="font-size: 12px;" placeholder="DD/MM/AAAA"></ion-input>
      </ion-item>

    </div>

    <ion-button shape="round" (click)="applyDateFilter()" style=" font-size: 12px;">
      <ion-icon src="assets/filtro-icon.svg" slot="end" name="search-outline"></ion-icon>
      Filtrar
    </ion-button>
  </div>



  <ion-list lines="full">
    <ion-item *ngFor="let escala of filteredEscalas; let i = index">
      <div>
        <ion-label>{{escala.banda.nome}}</ion-label>
      </div>
      <ion-text slot="end">
        {{escala.data[2]}}/{{escala.data[1]}}/{{escala.data[0]}}
      </ion-text>
      <ion-icon (click)="toAddEditEscala(escala.id)" slot="end" color="#000" name="pencil-sharp"></ion-icon>
    </ion-item>
  </ion-list>

  <ion-fab (click)="toAddEditEscala(-1)" slot="fixed" horizontal="start" vertical="bottom" style="bottom: 30px;">
    <ion-fab-button>
      <ion-icon size="large" name="add-outline"></ion-icon>
    </ion-fab-button>
  </ion-fab>
  <ion-fab (click)="backPage('leader-home')" slot="fixed" horizontal="end" vertical="bottom" style="bottom: 30px;">
    <ion-fab-button style="--border-color: black;--border-width:1px;--border-style: solid">
      <ion-icon size="large" src="assets/back-btn.svg"></ion-icon>
    </ion-fab-button>
  </ion-fab>
</ion-content>